x      = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
gen1   = [431.977, 464.985, 474.056, 459.945, 458.745, 456.551, 451.646, 458.948, 463.253, 460.755, 472.596, 454.692]
load1  = [304.049,394.693,395.061,368.098,395.601,370.452,397.782,387.438,391.835,421.834,403.259,409.787]
util1  = [-127.928,-70.2923,-78.9946,-91.8469,-63.1436,-86.0987,-53.8644,-71.51,-71.4183,-38.9212,-69.3374,-44.9046]
totMw1 = [150.003, 161.889, 163.427,160.095,159.666,158.882,157.124, 159.739,161.273,160.383,164.586,158.216]

gen2  = [516.82,519.977,552.826, 519.248, 519.6, 543.118,498.014, 525.974, 522.363,542.394,537.849,509.506]
load2 = [352.449,430.932, 434.104, 399.174,429.318, 420.651,427.381, 428.483,422.314,472.73,438.899,441.575]
util2 = [-164.371,-89.0446,-118.722,-120.074, -90.2826,-122.466,-70.6335, -97.491,-100.05, -69.6635,-98.9505,-67.9315]
totMW2= [179.957,79.76,186.59,179.408,180.907,188.486,173.481,183.078,181.849,188.63,186.211,177.448]


plot(x, [util1; util2])

% New Experiment ED+DR
%util_eddr     = [-509.325, -413.736, -405.001, -392.479, -385.474, -394.271,-404.574, -384.207,-384.684, -384.684, -393.475];
genCost_eddr  = [525.743,  454.8,  445.233, 431.399, 423.667,433.266, 436.107, 439.018, 436.603, 433.123, 421.677, 421.627];
userCost_eddr = [56.5146,  41.064, 40.2322, 38.9206, 38.193, 38.9954, 41.5326, 38.3624, 41.7604, 39.6484, 37.4692, 36.9436];
%genCost_eddr  = [433.123,  454.8,  445.233, 431.399, 423.667,433.266, 436.107, 439.018, 436.603, 431.677, 431.627, 433.123];
%userCost_eddr = [39.6484,  41.064, 40.2322, 38.9206, 38.193, 38.9954, 41.5326, 38.3624, 41.7604, 37.4692, 36.9436, 39.6484];
totMW_eddr    = [150.421, 151.777, 151.861, 149.382, 146.96, 150.473, 145.13, 148.922, 145.309, 146.228, 146.21, 150.421];
costEdDr = genCost_eddr - userCost_eddr;
utilEdDr = userCost_eddr - genCost_eddr;

% New Experiment DR
%util_ed  = [-469.228,-460.091,-461.983,-455.51,-448.315,-459.047, -470.652,-454.844,-471.215,-447.202,-447.979, -457.991];
genCos_dr   = [525.743, 516.78, 517.537, 509.384, 501.251, 512.935, 527.905, 532.948, 528.842, 522.572, 518.984, 519.065];
userCost_dr = [56.5146, 56.6887,55.5536,53.874,52.936,53.8876, 57.253, 53.1039, 57.627,  54.5806, 51.7828, 51.0859];
totMw_dr    = [ 183, 179.943, 180.202,177.406, 174.601, 178.625, 183.735, 186.912, 184.053, 178.501, 173.817, 173.844];
costDr = genCos_dr - userCost_dr;
utilDr = userCost_dr - genCos_dr;

plot(x, [costEdDr; costDr])
plot(x, [totMW_eddr; totMw_dr])

x_q        = linspace(1, 12, 100);

% Cost
costEdDr_q = interp1(x, costEdDr, x_q, 'spline');
costEd_q   = interp1(x, costDr,   x_q, 'spline');
plot(x_q, costEd_q, x_q, costEdDr_q)

% MW
MwEdDr_q = interp1(x, totMW_eddr, x_q, 'spline');
MwEd_q   = interp1(x, totMw_dr,   x_q, 'spline');
plot(x_q, MwEd_q, x_q, MwEdDr_q)

% Util
utilEdDr_q = interp1(x, utilEdDr, x_q, 'spline');
utilEd_q   = interp1(x, utilDr,   x_q, 'spline');
plot(x_q, utilEdDr_q, x_q, utilEd_q)


% Normalized Util
best_util  = max([util_ed, util_eddr]);
worst_util = min([util_ed, util_eddr]);

Norm_utilEdDr = utilEdDr ./ worst_util;
Norm_utilEd   = utilDr ./ worst_util;
Norm_utilEdDr_q = interp1(x, Norm_utilEdDr, x_q, 'spline');
Norm_utilEd_q   = interp1(x, Norm_utilEd,   x_q, 'spline');
plot(x_q, Norm_utilEdDr_q, x_q, Norm_utilEd_q)

% Cumulative (?) [between pt_i_dr and pt_i_eddr]
